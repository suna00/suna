[
  {
    "typeId": "apiConfig",
    "category": "vote",
    "apiId": "IfMwv001",
    "apiName": "MWAVE 투표 목록조회",
    "method": "GET",
    "parameters": [
      {
        "paramName": "page",
        "required": false
      },
      {
        "paramName": "pageSize",
        "required": false
      },
      {
        "paramName": "sorting",
        "required": false
      },
      {
        "paramName": "langCd",
        "required": false
      },
      {
        "paramName": "voteFormlCd",
        "required": false
      },
      {
        "paramName": "showLoCd",
        "required": false
      },
      {
        "paramName": "searchKeyword",
        "required": false
      }
    ],
    "config": {
      "typeId": "voteBasInfo",
      "query": [
        {
          "field": "voteFormlCd",
          "method": "matching",
          "value": "{{:voteFormlCd}}"
        },
        {
          "field": "showLoCd",
          "method": "matching",
          "value": "{{:showLoCd}}"
        },
        {
          "field": "findKywrd",
          "method": "matching",
          "value": "{{:searchKeyword}}"
        },
        {
          "field": "showYn",
          "method": "matching",
          "value": "true"
        },
        {
          "sorting": "{{:sorting}}"
        },
        {
          "page": "{{:page}}",
          "pageSize": "{{:pageSize}}"
        },
        {
          "includeReferenced": true
        }
      ]
    }
  },
  {
    "typeId": "apiConfig",
    "category": "vote",
    "apiId": "IfMwv002",
    "apiName": "MWAVE 투표 상세조회",
    "method": "GET",
    "parameters": [
      {
        "paramName": "langCd",
        "required": false
      },
      {
        "paramName": "voteSeq",
        "required": false
      },
      {
        "paramName": "voteYear",
        "required": false
      },
      {
        "paramName": "showLoCd",
        "required": false
      },
      {
        "paramName": "voteFormlCd",
        "required": false
      }
    ],
    "config": {
      "typeId": "voteBasInfo",
      "query": [
        {
          "field": "voteSeq",
          "method": "matching",
          "value": "{{:voteSeq}}"
        },
        {
          "field": "voteYear",
          "method": "matching",
          "value": "{{:voteYear}}"
        },
        {
          "field": "showLoCd",
          "method": "matching",
          "value": "{{:showLoCd}}"
        },
        {
          "field": "voteFormlCd",
          "method": "matching",
          "value": "{{:voteFormlCd}}"
        },
        {
          "field": "showYn",
          "method": "matching",
          "value": "true"
        },
        {
          "sorting": "voteSeq desc"
        },
        {
          "limit": "1"
        },
        {
          "referenceView": "sersItemVoteSeq",
          "includeReferenced": true
        }
      ],
      "response": {
        "_all_" :"",
        "refdItemList": {
          "typeId": "voteItemInfo",
          "query": [
            {
              "field": "voteSeq",
              "method": "referenceJoin",
              "value": "voteSeq_matching={{:voteSeq}}"
            },
            {
              "referenceView": "contsMetaId"
            }
          ]
        },
        "refdSeriesItemList": {
          "typeId": "sersVoteItemInfo",
          "query": [
            {
              "field": "voteSeq",
              "method": "referenceJoin",
              "value": "voteSeq_matching={{:voteSeq}}"
            },
            {
              "referenceView": "sersItemVoteSeq"
            }
          ]
        }
      }
    }
  },
  {
    "typeId": "apiConfig",
    "category": "vote",
    "apiId": "IfMwv003",
    "apiName": "MWAVE 투표하기",
    "method": "POST",
    "parameters": [
      {
        "paramName": "voteSeq",
        "required": true
      },
      {
        "paramName": "voteQueiSeq",
        "required": true
      },
      {
        "paramName": "snsKey",
        "required": true
      },
      {
        "paramName": "snsTypeCd",
        "required": true
      }
    ],
    "config": {
      "createItem": {
        "typeId": "votePrtcptHst",
        "event": "save",
        "data": {
          "voteSeq": "{{:voteSeq}}",
          "voteItemSeq": "{{:voteQueiSeq}}",
          "prtcpMbrId": "{{:snsTypeCd}}>{{:snsKey}}"
        }
      }
    }
  },
  {
    "typeId": "apiConfig",
    "category": "vote",
    "apiId": "IfMwv004",
    "apiName": "투표 당첨자 조회",
    "method": "GET",
    "parameters": [
      {
        "paramName": "page",
        "required": false
      },
      {
        "paramName": "pageSize",
        "required": false
      },
      {
        "paramName": "sorting",
        "required": false
      },
      {
        "paramName": "langCd",
        "required": false
      },
      {
        "paramName": "voteSeq",
        "required": true
      }
    ],
    "config": {
      "typeId": "votePwnrInfo",
      "query": [
        {
          "field": "pwnrBasSeq",
          "method": "referenceJoin",
          "value": "voteSeq_matching={{:voteSeq}}&limit=1"
        },
        {
          "sorting": "{{:sorting}}"
        },
        {
          "page": "{{:page}}",
          "pageSize": "{{:pageSize}}"
        }
      ],
      "response": {
        "voteSeq": {
          "value": "{{:voteSeq}}"
        },
        "votePwnrSeq": "",
        "mbrId": "",
        "mbrFirstName": "",
        "mbrLastName": "",
        "email": "",
        "mblNo": "",
        "homeAdr": "",
        "memo": "",
        "prtcpDate": "created"
      }
    }
  },
  {
    "typeId": "apiConfig",
    "category": "vote",
    "apiId": "IfMwv104",
    "apiName": "아티스트별 주간 투표 현황",
    "method": "GET",
    "parameters": [
      {
        "paramName": "artistId",
        "required": false
      },
      {
        "perdStDate": "perdStDate",
        "required": false
      },
      {
        "perdFnsDate": "perdFnsDate",
        "required": false
      }
    ],
    "config": {
      "typeId": "wlyVoteStatsByArtist",
      "query": [
        {
          "field": "artistId",
          "method": "matching",
          "value": "{{:artistId}}"
        },
        {
          "field": "perdStDate",
          "method": "matching",
          "value": "{{:perdStDate}}"
        },
        {
          "field": "perdFnsDate",
          "method": "matching",
          "value": "{{:perdFnsDate}}"
        },
        {
          "sorting": "{{:sorting}}"
        },
        {
          "referenceView": "artistId"
        }
      ]
    }
  },
  {
    "typeId": "apiConfig",
    "category": "vote",
    "apiId": "IfMwv105",
    "apiName": "아티스트별 국가 투표 현황",
    "method": "GET",
    "parameters": [
      {
        "paramName": "artistId",
        "required": false
      },
      {
        "perdStDate": "perdStDate",
        "required": false
      },
      {
        "perdFnsDate": "perdFnsDate",
        "required": false
      }
    ],
    "config": {
      "typeId": "cntryVoteStatsByArtist",
      "query": [
        {
          "field": "artistId",
          "method": "matching",
          "value": "{{:artistId}}"
        },
        {
          "field": "perdStDate",
          "method": "matching",
          "value": "{{:perdStDate}}"
        },
        {
          "field": "perdFnsDate",
          "method": "matching",
          "value": "{{:perdFnsDate}}"
        },
        {
          "sorting": "{{:sorting}}"
        },
        {
          "referenceView": "cntryCd,artistId"
        }
      ]
    }
  }
]
