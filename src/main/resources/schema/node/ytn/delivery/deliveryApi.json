[
  {
    "typeId": "apiCategory",
    "id": "myDeliveryAddress",
    "categoryName": "나의 배송지",
    "fileUrlFormat": {
      "default": "{{:getEnvValue(cluster.file-prefix, url)}}"
    }
  },
  {
    "typeId": "apiConfig",
    "category": "myDeliveryAddress",
    "apiId": "setBasic",
    "apiName": "기본배송지 설정 (성공 후 result 는 정상인데 table 에 갱신 안됨) ",
    "method": "GET",
    "parameters": [
    ],
    "config": {
      "asis": {
        "select": {
          "ds": "ytnDevDb",
          "resultType": "read",
          "sql": "select min(myDeliveryAddressId) as asisId from myDeliveryAddress where memberNo = @{session.member.memberNo} and defaultYn='y' "
        }
      },
      "asisSetN": {
        "typeId": "myDeliveryAddress",
        "event": "update",
        "data": {
          "myDeliveryAddressId": "{{:asisId}}",
          "defaultYn": "n",
          "changed": ""
        }
      },
      "tobeSetY": {
        "typeId": "myDeliveryAddress",
        "event": "update",
        "data": {
          "myDeliveryAddressId": "{{:tobeId}}",
          "defaultYn": "y",
          "changed": ""
        }
      }
    }
  },
  {
    "typeId": "apiConfig",
    "category": "myDeliveryAddress",
    "apiId": "latestDelivery",
    "apiName": "최근 배송지",
    "method": "POST",
    "parameters": [
    ],
    "config": {
      "typeId": "delivery",
      "query": [
        {
          "field": "memberNo",
          "method": "equals",
          "value": "{{:session.member.memberNo}}"
        },
        {
          "sorting": "created desc",
          "pageSize": "3",
          "page": "1",
          "deliveryType_equals": "deliveryAddress"
        }
      ]
    }
  },
  {
    "typeId": "apiCategory",
    "id": "deliveryTrackingInfo",
    "categoryName": "주문 배송조회",
    "fileUrlFormat": {
      "default": "{{:getEnvValue(cluster.file-prefix, url)}}"
    }
  },
  {
    "typeId": "apiConfig",
    "category": "deliveryTrackingInfo",
    "apiId": "view",
    "apiName": "주문 배송조회",
    "method": "GET",
    "parameters": [
    ],
    "config": {
      "select": {
        "ds": "ytnDevDb",
        "resultType": "read",
        "sql": "select orderDeliveryPriceId,(select name from deliveryenterprise c where deliveryEnterpriseId = b.deliveryEnterpriseId) as deliveryEnterpriseName ,trackingNo,(select name from commoncode where upperCode='orderStatus' and code = deliveryStatus) as deliveryStatus , (select max(recipient) from delivery a where a.orderSheetId = b.orderSheetId) as recipient from orderdeliveryprice b, ordersheet d where b.orderDeliveryPriceId = @{orderDeliveryPriceId} and b.orderSheetId = d.orderSheetId and d.memberNo = @{session.member.memberNo} "
      },
      "response": {
        "_all_": "",
        "statusList": {
          "select": {
            "ds": "ytnDevDb",
            "resultType": "list",
            "sql": "select timeTrans, location, telnoOffice, telnoMan, (select name from commoncode where upperCode='deliveryLevelSweet' and code = level) as level from deliverytrackinginfo where orderDeliveryPriceId = @{orderDeliveryPriceId} order by deliveryTrackingInfoId "
          }
        }
      }
    }
  },
  {
    "typeId": "apiConfig",
    "category": "deliveryTrackingInfo",
    "apiId": "adminView",
    "apiName": "주문 배송조회",
    "method": "GET",
    "parameters": [
    ],
    "config": {
      "typeId": "deliveryTrackingInfo",
      "event": "deliveryTrackingInfoView",
      "data": {
        "orderDeliveryPriceId": "{{:orderDeliveryPriceId}}"
      }
    }
  }
]